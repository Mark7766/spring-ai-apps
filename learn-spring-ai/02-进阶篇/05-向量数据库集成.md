# ç¬¬5æœŸï¼šå‘é‡æ•°æ®åº“é›†æˆ - æ„å»ºä½ çš„ç§æœ‰çŸ¥è¯†åº“

## ğŸ“Œ æœ¬æœŸæ¦‚è¿°

**æ ¸å¿ƒé—®é¢˜ï¼šå¦‚ä½•é«˜æ•ˆå­˜å‚¨å’Œæ£€ç´¢æµ·é‡å‘é‡æ•°æ®ï¼Ÿ**

ä¸Šä¸€æœŸæˆ‘ä»¬å­¦ä¹ äº†Embeddingå‘é‡åŒ–æŠ€æœ¯ï¼Œä½†æ‰€æœ‰å‘é‡éƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé‡å¯å°±ä¸¢å¤±ã€‚æœ¬æœŸå°†æ·±å…¥è®²è§£å‘é‡æ•°æ®åº“åŸç†ï¼Œå¹¶å®æˆ˜Chromaæ•°æ®åº“é›†æˆï¼Œæ„å»ºå®Œæ•´çš„PDFæ–‡æ¡£é—®ç­”ç³»ç»Ÿï¼Œå®ç°å‘é‡æ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨å’Œé«˜æ•ˆæ£€ç´¢ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬æœŸå­¦ä¹ åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- âœ… ç†è§£å‘é‡æ•°æ®åº“çš„å·¥ä½œåŸç†å’Œæ ¸å¿ƒæ¦‚å¿µ
- âœ… æŒæ¡ä¸»æµå‘é‡æ•°æ®åº“çš„é€‰å‹æ ‡å‡†
- âœ… é›†æˆChromaå‘é‡æ•°æ®åº“åˆ°Spring AIåº”ç”¨
- âœ… å®ç°PDFæ–‡æ¡£æ™ºèƒ½è§£æä¸å‘é‡åŒ–å­˜å‚¨
- âœ… æŒæ¡æ··åˆæ£€ç´¢ç­–ç•¥æå‡æœç´¢è´¨é‡
- âœ… ä¼˜åŒ–å‘é‡æ£€ç´¢æ€§èƒ½

## ğŸ“š å†…å®¹å¤§çº²

### 1. å‘é‡æ•°æ®åº“åŸç†

### 2. å‘é‡æ•°æ®åº“é€‰å‹å¯¹æ¯”

### 3. Chromaå®‰è£…ä¸é…ç½®

### 4. Spring AIé›†æˆChroma

### 5. PDFæ–‡æ¡£è§£æä¸å‘é‡åŒ–

### 6. æ··åˆæ£€ç´¢ç­–ç•¥

### 7. æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ

---

## 1. å‘é‡æ•°æ®åº“åŸç†

### 1.1 ä¸ºä»€ä¹ˆéœ€è¦å‘é‡æ•°æ®åº“ï¼Ÿ

**ä¸Šä¸€æœŸçš„é—®é¢˜**ï¼š

```java
// ç¬¬4æœŸï¼šå‘é‡å­˜å‚¨åœ¨å†…å­˜Mapä¸­
private final Map<String, float[]> documentEmbeddings = new HashMap<>();

é—®é¢˜ï¼š
âŒ åº”ç”¨é‡å¯ï¼Œæ‰€æœ‰å‘é‡ä¸¢å¤±
âŒ å†…å­˜æœ‰é™ï¼Œæ— æ³•å¤„ç†å¤§è§„æ¨¡æ•°æ®
âŒ æ— æ³•å¤šå®ä¾‹å…±äº«
âŒ æœç´¢æ•ˆç‡ä½ï¼ˆçº¿æ€§æ‰«æï¼‰
```

**å‘é‡æ•°æ®åº“çš„è§£å†³æ–¹æ¡ˆ**ï¼š

```java
// ä½¿ç”¨å‘é‡æ•°æ®åº“
@Autowired
private ChromaVectorStore vectorStore;

vectorStore.add(documents);  // æŒä¹…åŒ–å­˜å‚¨
List<Document> results = vectorStore.similaritySearch(query);  // é«˜æ•ˆæ£€ç´¢

ä¼˜åŠ¿ï¼š
âœ… æ•°æ®æŒä¹…åŒ–ï¼Œé‡å¯ä¸ä¸¢å¤±
âœ… æ”¯æŒæµ·é‡æ•°æ®ï¼ˆç™¾ä¸‡ã€åƒä¸‡çº§ï¼‰
âœ… é«˜æ•ˆçš„å‘é‡ç´¢å¼•ï¼ˆANNç®—æ³•ï¼‰
âœ… åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œæ”¯æŒé›†ç¾¤
```

### 1.2 å‘é‡æ•°æ®åº“æ ¸å¿ƒæ¦‚å¿µ

**Collectionï¼ˆé›†åˆï¼‰**ï¼š

```
ç±»ä¼¼å…³ç³»æ•°æ®åº“çš„"è¡¨"

TestCollection
â”œâ”€â”€ Document 1 (text + vector + metadata)
â”œâ”€â”€ Document 2 (text + vector + metadata)
â””â”€â”€ Document 3 (text + vector + metadata)
```

**Documentï¼ˆæ–‡æ¡£ï¼‰**ï¼š

```java
Document {
    id: "doc-001",
    content: "è‚šå­ç–¼å¯èƒ½æ˜¯æ¶ˆåŒ–ä¸è‰¯...",
    embedding: [0.2, -0.5, 0.8, ...],  // 896ç»´å‘é‡
    metadata: {
        source: "medical_kb.pdf",
        page: 1,
        author: "å¼ åŒ»ç”Ÿ"
    }
}
```

**Metadataï¼ˆå…ƒæ•°æ®ï¼‰**ï¼š

æ–‡æ¡£çš„é™„åŠ ä¿¡æ¯ï¼Œç”¨äºè¿‡æ»¤å’Œåˆ†ç±»ï¼š

```java
metadata: {
    "category": "åŒ»ç–—",
    "date": "2024-01-01",
    "language": "zh-CN",
    "confidence": 0.95
}
```

### 1.3 å‘é‡æ£€ç´¢åŸç†

**1. ANNï¼ˆè¿‘ä¼¼æœ€è¿‘é‚»ï¼‰ç®—æ³•**

ä¼ ç»Ÿçº¿æ€§æœç´¢ï¼š

```
éå†æ‰€æœ‰å‘é‡ï¼Œè®¡ç®—ç›¸ä¼¼åº¦ â†’ O(n)
10ä¸‡æ¡æ•°æ® = 10ä¸‡æ¬¡è®¡ç®— âŒ
```

ANNç®—æ³•ï¼š

```
ä½¿ç”¨ç´¢å¼•ç»“æ„ï¼ˆå¦‚HNSWï¼‰â†’ O(log n)
10ä¸‡æ¡æ•°æ® â‰ˆ 100æ¬¡è®¡ç®— âœ…
```

**2. å¸¸è§ç´¢å¼•ç®—æ³•**

| ç®—æ³• | åŸç† | ç²¾åº¦ | é€Ÿåº¦ | é€‚ç”¨åœºæ™¯ |
|------|------|------|------|---------|
| **HNSW** | å±‚æ¬¡å›¾ç»“æ„ | é«˜ | å¿« | é€šç”¨æ¨è â­ |
| **IVF** | å€’æ’ç´¢å¼• | ä¸­ | å¿« | å¤§è§„æ¨¡æ•°æ® |
| **LSH** | å±€éƒ¨æ•æ„Ÿå“ˆå¸Œ | ä½ | æœ€å¿« | å®æ—¶æœç´¢ |
| **Flat** | æš´åŠ›æœç´¢ | 100% | æ…¢ | å°æ•°æ®é›† |

**3. æ£€ç´¢æµç¨‹**

```
ç”¨æˆ·é—®é¢˜ï¼š"è‚šå­ç–¼æ€ä¹ˆåŠï¼Ÿ"
    â†“
ã€å‘é‡åŒ–ã€‘embedding = [0.2, -0.5, 0.8, ...]
    â†“
ã€ANNæœç´¢ã€‘åœ¨å‘é‡æ•°æ®åº“ä¸­æ‰¾åˆ°æœ€ç›¸ä¼¼çš„Top-Kä¸ªæ–‡æ¡£
    â†“
ã€ç›¸ä¼¼åº¦æ’åºã€‘æŒ‰ç›¸ä¼¼åº¦ä»é«˜åˆ°ä½æ’åˆ—
    â†“
ã€è¿”å›ç»“æœã€‘
  1. "è‚šå­ç–¼å¯èƒ½æ˜¯æ¶ˆåŒ–ä¸è‰¯..." (ç›¸ä¼¼åº¦ 0.92)
  2. "è…¹ç—›çš„å¤„ç†æ–¹æ³•..." (ç›¸ä¼¼åº¦ 0.85)
  3. "èƒƒéƒ¨ä¸é€‚å»ºè®®..." (ç›¸ä¼¼åº¦ 0.78)
```

---

## 2. å‘é‡æ•°æ®åº“é€‰å‹å¯¹æ¯”

### 2.1 ä¸»æµå‘é‡æ•°æ®åº“å¯¹æ¯”

| æ•°æ®åº“ | ç±»å‹ | è¯­è¨€ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ | å­¦ä¹ æˆæœ¬ |
|--------|------|------|------|---------|---------|
| **Chroma** | ç‹¬ç«‹æœåŠ¡ | Python | è½»é‡çº§ã€æ˜“ç”¨ | å­¦ä¹ ã€ä¸­å°è§„æ¨¡ | â­ |
| **Weaviate** | ç‹¬ç«‹æœåŠ¡ | Go | åŠŸèƒ½ä¸°å¯Œã€GraphQL | ä¼ä¸šçº§åº”ç”¨ | â­â­ |
| **Milvus** | ç‹¬ç«‹æœåŠ¡ | C++/Go | é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼ | å¤§è§„æ¨¡ç”Ÿäº§ | â­â­â­ |
| **Pinecone** | äº‘æœåŠ¡ | - | æ‰˜ç®¡æœåŠ¡ã€é›¶è¿ç»´ | å¿«é€Ÿä¸Šçº¿ | â­ |
| **Qdrant** | ç‹¬ç«‹æœåŠ¡ | Rust | é«˜æ€§èƒ½ã€å®æ—¶ | å®æ—¶æœç´¢ | â­â­ |
| **pgvector** | PostgreSQL | C | PostgreSQLæ‰©å±• | å·²æœ‰PGæ•°æ®åº“ | â­â­ |

### 2.2 è¯¦ç»†å¯¹æ¯”åˆ†æ

**Chroma**ï¼ˆæœ¬æœŸé€‰æ‹©ï¼‰

```
ä¼˜åŠ¿ï¼š
âœ… å®‰è£…ç®€å•ï¼ˆä¸€æ¡å‘½ä»¤ï¼‰
âœ… è½»é‡çº§ï¼ˆå ç”¨èµ„æºå°‘ï¼‰
âœ… Python/JavaScript/Javaå®¢æˆ·ç«¯
âœ… å®Œå…¨å…è´¹å¼€æº
âœ… é€‚åˆå­¦ä¹ å’Œä¸­å°è§„æ¨¡åº”ç”¨

åŠ£åŠ¿ï¼š
âŒ æ€§èƒ½ä¸å¦‚Milvus
âŒ åŠŸèƒ½ç›¸å¯¹ç®€å•
âŒ å¤§è§„æ¨¡æ•°æ®å¤„ç†èƒ½åŠ›æœ‰é™
```

**Weaviate**

```
ä¼˜åŠ¿ï¼š
âœ… åŠŸèƒ½ä¸°å¯Œï¼ˆGraphQLã€æ··åˆæ£€ç´¢ï¼‰
âœ… æ”¯æŒå¤šæ¨¡æ€ï¼ˆæ–‡æœ¬ã€å›¾åƒï¼‰
âœ… å¼ºå¤§çš„è¿‡æ»¤èƒ½åŠ›
âœ… äº‘ç«¯å’Œæœ¬åœ°éƒ¨ç½²

åŠ£åŠ¿ï¼š
âŒ é…ç½®å¤æ‚
âŒ èµ„æºå ç”¨è¾ƒå¤§
```

**Milvus**

```
ä¼˜åŠ¿ï¼š
âœ… é«˜æ€§èƒ½ï¼ˆç™¾ä¸‡çº§QPSï¼‰
âœ… åˆ†å¸ƒå¼æ¶æ„ï¼Œæ°´å¹³æ‰©å±•
âœ… æ”¯æŒå¤šç§ç´¢å¼•ç®—æ³•
âœ… ä¼ä¸šçº§ç¨³å®šæ€§

åŠ£åŠ¿ï¼š
âŒ éƒ¨ç½²å¤æ‚ï¼ˆä¾èµ–å¤šï¼‰
âŒ å­¦ä¹ æ›²çº¿é™¡å³­
âŒ èµ„æºå ç”¨å¤§
```

**Pinecone**

```
ä¼˜åŠ¿ï¼š
âœ… å®Œå…¨æ‰˜ç®¡ï¼Œé›¶è¿ç»´
âœ… å¼€ç®±å³ç”¨
âœ… é«˜å¯ç”¨ä¿éšœ

åŠ£åŠ¿ï¼š
âŒ æ”¶è´¹ï¼ˆæŒ‰æŸ¥è¯¢é‡ï¼‰
âŒ æ•°æ®åœ¨äº‘ç«¯ï¼ˆéšç§ï¼‰
âŒ ä¾›åº”å•†é”å®š
```

### 2.3 é€‰å‹å†³ç­–æ ‘

```
å¼€å§‹
  â†“
æ˜¯å¦éœ€è¦å¤„ç†è¶…å¤§è§„æ¨¡æ•°æ®ï¼ˆ>1000ä¸‡ï¼‰ï¼Ÿ
  â”œâ”€ æ˜¯ â†’ Milvus
  â””â”€ å¦ â†“
        â†“
     æ˜¯å¦å·²æœ‰PostgreSQLï¼Ÿ
       â”œâ”€ æ˜¯ â†’ pgvector
       â””â”€ å¦ â†“
             â†“
          é¢„ç®—å’Œè¿ç»´èƒ½åŠ›ï¼Ÿ
            â”œâ”€ ä½ â†’ Chromaï¼ˆå­¦ä¹ /å°é¡¹ç›®ï¼‰
            â”œâ”€ ä¸­ â†’ Weaviateï¼ˆä¼ä¸šåº”ç”¨ï¼‰
            â””â”€ é«˜ â†’ Pineconeï¼ˆæ‰˜ç®¡æœåŠ¡ï¼‰
```

**æœ¬æœŸé€‰æ‹©Chromaçš„ç†ç”±**ï¼š
1. âœ… å­¦ä¹ æˆæœ¬ä½ï¼Œå¿«é€Ÿä¸Šæ‰‹
2. âœ… å®‰è£…ç®€å•ï¼Œä¸€é”®å¯åŠ¨
3. âœ… å®Œå…¨å…è´¹
4. âœ… æ»¡è¶³å¤§å¤šæ•°ä¸­å°è§„æ¨¡åº”ç”¨éœ€æ±‚
5. âœ… Spring AIå®˜æ–¹æ”¯æŒè‰¯å¥½

---

## 3. Chromaå®‰è£…ä¸é…ç½®

### 3.1 å®‰è£…Chroma

**æ–¹å¼1ï¼šDockerï¼ˆæ¨èï¼‰**

```bash
# æ‹‰å–Chromaé•œåƒ
docker pull chromadb/chroma

# å¯åŠ¨ChromaæœåŠ¡
docker run -d \
  -p 8000:8000 \
  --name chroma \
  chromadb/chroma

# éªŒè¯æœåŠ¡
curl http://localhost:8000/api/v1/heartbeat

# è¿”å›ï¼š{"nanosecond heartbeat":...} è¡¨ç¤ºæˆåŠŸ
```

**æ–¹å¼2ï¼šPython pipå®‰è£…**

```bash
# å®‰è£…chroma
pip install chromadb

# å¯åŠ¨æœåŠ¡
chroma run --host localhost --port 8000

# è¾“å‡ºï¼š
# Running Chroma server on http://localhost:8000
```

**æ–¹å¼3ï¼šæºç å®‰è£…**

```bash
git clone https://github.com/chroma-core/chroma.git
cd chroma
docker-compose up -d
```

### 3.2 éªŒè¯ChromaæœåŠ¡

**æµ‹è¯•API**ï¼š

```bash
# åˆ›å»ºCollection
curl -X POST http://localhost:8000/api/v1/collections \
  -H "Content-Type: application/json" \
  -d '{
    "name": "test_collection"
  }'

# è¿”å›ï¼š{"id":"...","name":"test_collection",...}

# æŸ¥çœ‹æ‰€æœ‰Collections
curl http://localhost:8000/api/v1/collections

# åˆ é™¤Collection
curl -X DELETE http://localhost:8000/api/v1/collections/test_collection
```

### 3.3 Chromaé…ç½®

**æŒä¹…åŒ–é…ç½®**ï¼š

```bash
# å¯åŠ¨æ—¶æŒ‡å®šæ•°æ®ç›®å½•
docker run -d \
  -p 8000:8000 \
  -v /path/to/data:/chroma/chroma \
  --name chroma \
  chromadb/chroma
```

**é»˜è®¤ç«¯å£**ï¼š`8000`

---

## 4. Spring AIé›†æˆChroma

ç°åœ¨å¼€å§‹æ„å»ºå®Œæ•´çš„PDFæ–‡æ¡£é—®ç­”ç³»ç»Ÿï¼

é¡¹ç›®ä»£ç ï¼š[https://github.com/Mark7766/spring-ai-apps/tree/main/chroma-ollama](https://github.com/Mark7766/spring-ai-apps/tree/main/chroma-ollama)

### 4.1 é¡¹ç›®ä¾èµ–é…ç½®

```xml
<!-- æ¥è‡ªï¼šhttps://github.com/Mark7766/spring-ai-apps/blob/main/chroma-ollama/pom.xml -->
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0">
    <modelVersion>4.0.0</modelVersion>
    
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.5.4</version>
    </parent>
    
    <groupId>com.sandy</groupId>
    <artifactId>chroma-ollama</artifactId>
    <version>0.0.2-SNAPSHOT</version>
    
    <properties>
        <java.version>17</java.version>
        <spring-ai.version>1.0.0</spring-ai.version>
    </properties>
    
    <dependencies>
        <!-- Spring Boot Web -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        
        <!-- â­ Spring AI Chromaå‘é‡æ•°æ®åº“ -->
        <dependency>
            <groupId>org.springframework.ai</groupId>
            <artifactId>spring-ai-starter-vector-store-chroma</artifactId>
        </dependency>
        
        <!-- â­ å‘é‡å­˜å‚¨Advisorï¼ˆRAGæ”¯æŒï¼‰ -->
        <dependency>
            <groupId>org.springframework.ai</groupId>
            <artifactId>spring-ai-advisors-vector-store</artifactId>
        </dependency>
        
        <!-- Spring AI Ollamaï¼ˆChatå’ŒEmbeddingï¼‰ -->
        <dependency>
            <groupId>org.springframework.ai</groupId>
            <artifactId>spring-ai-starter-model-ollama</artifactId>
        </dependency>
        
        <!-- â­ PDFæ–‡æ¡£è¯»å–å™¨ -->
        <dependency>
            <groupId>org.springframework.ai</groupId>
            <artifactId>spring-ai-pdf-document-reader</artifactId>
        </dependency>
    </dependencies>
    
    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>org.springframework.ai</groupId>
                <artifactId>spring-ai-bom</artifactId>
                <version>${spring-ai.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
        </dependencies>
    </dependencyManagement>
</project>
```

**æ ¸å¿ƒä¾èµ–è¯´æ˜**ï¼š

1. **spring-ai-starter-vector-store-chroma**ï¼šChromaå‘é‡æ•°æ®åº“é›†æˆ
2. **spring-ai-advisors-vector-store**ï¼šRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æ”¯æŒ
3. **spring-ai-pdf-document-reader**ï¼šPDFæ–‡æ¡£è§£æ
4. **spring-ai-starter-model-ollama**ï¼šæœ¬åœ°Ollamaæ¨¡å‹

### 4.2 åº”ç”¨é…ç½®

```yaml
# æ¥è‡ªï¼šhttps://github.com/Mark7766/spring-ai-apps/blob/main/chroma-ollama/src/main/resources/application.yml
server:
  port: 8081

spring:
  application:
    name: "chroma-ollama"
  
  ai:
    ollama:
      # OllamaæœåŠ¡åœ°å€
      base-url: "http://localhost:11434"
      
      # Embeddingé…ç½®ï¼ˆå‘é‡åŒ–æ–‡æ¡£ï¼‰
      embedding:
        enabled: true
        model: qwen2.5
      
      # Chaté…ç½®ï¼ˆç”Ÿæˆç­”æ¡ˆï¼‰
      chat:
        enabled: true
        model: qwen2.5
```

**é…ç½®è¯´æ˜**ï¼š
- `ollama.base-url`ï¼šOllamaæœåŠ¡åœ°å€
- `embedding.model`ï¼šç”¨äºæ–‡æ¡£å‘é‡åŒ–çš„æ¨¡å‹
- `chat.model`ï¼šç”¨äºç”Ÿæˆç­”æ¡ˆçš„æ¨¡å‹

### 4.3 Chromaé…ç½®ç±»

åˆ›å»ºChromaè¿æ¥å’ŒVectorStoreé…ç½®ï¼š

```java
// æ¥è‡ªï¼šhttps://github.com/Mark7766/spring-ai-apps/blob/main/chroma-ollama/src/main/java/com/sandy/chroma/ollama/ChromaCfg.java
package com.sandy.chroma.ollama;

import com.fasterxml.jackson.databind.ObjectMapper;
import org.springframework.ai.chroma.vectorstore.ChromaApi;
import org.springframework.ai.chroma.vectorstore.ChromaVectorStore;
import org.springframework.ai.embedding.EmbeddingModel;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.http.client.SimpleClientHttpRequestFactory;
import org.springframework.web.client.RestClient;

@Configuration
public class ChromaCfg {
    
    // â­ é…ç½®RestClientï¼ˆç”¨äºHTTPé€šä¿¡ï¼‰
    @Bean
    public RestClient.Builder builder() {
        return RestClient.builder()
            .requestFactory(new SimpleClientHttpRequestFactory());
    }

    // â­ é…ç½®ChromaApiï¼ˆè¿æ¥ChromaæœåŠ¡ï¼‰
    @Bean
    public ChromaApi chromaApi(RestClient.Builder restClientBuilder) {
        String chromaUrl = "http://localhost:8000";  // ChromaæœåŠ¡åœ°å€
        ChromaApi chromaApi = new ChromaApi(
            chromaUrl, 
            restClientBuilder, 
            new ObjectMapper()
        );
        return chromaApi;
    }
    
    // â­ é…ç½®ChromaVectorStoreï¼ˆå‘é‡å­˜å‚¨ï¼‰
    @Bean
    public ChromaVectorStore chromaVectorStore(
        EmbeddingModel embeddingModel,  // è‡ªåŠ¨æ³¨å…¥
        ChromaApi chromaApi
    ) {
        return ChromaVectorStore.builder(chromaApi, embeddingModel)
            .collectionName("TestCollection")  // Collectionåç§°
            .initializeSchema(true)             // è‡ªåŠ¨åˆ›å»ºCollection
            .build();
    }
}
```

**ä»£ç æ ¸å¿ƒè§£æ**ï¼š

1. **ChromaApié…ç½®**ï¼š
   ```java
   String chromaUrl = "http://localhost:8000";
   ```
   è¿æ¥æœ¬åœ°ChromaæœåŠ¡ï¼Œç«¯å£é»˜è®¤8000ã€‚

2. **ChromaVectorStoreé…ç½®**ï¼š
   ```java
   .collectionName("TestCollection")  // æŒ‡å®šCollectionåç§°
   .initializeSchema(true)            // å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»º
   ```

3. **è‡ªåŠ¨æ³¨å…¥EmbeddingModel**ï¼š
   Spring AIè‡ªåŠ¨æ³¨å…¥Ollamaçš„EmbeddingModelï¼Œç”¨äºæ–‡æ¡£å‘é‡åŒ–ã€‚

---

## 5. PDFæ–‡æ¡£è§£æä¸å‘é‡åŒ–

### 5.1 PDFæ–‡æ¡£åŠ è½½æœåŠ¡

åˆ›å»ºæ–‡æ¡£åŠ è½½æœåŠ¡ï¼Œå¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½PDFï¼š

```java
// æ¥è‡ªï¼šhttps://github.com/Mark7766/spring-ai-apps/blob/main/chroma-ollama/src/main/java/com/sandy/chroma/ollama/DataLoaderService.java
package com.sandy.chroma.ollama;

import jakarta.annotation.PostConstruct;
import org.springframework.ai.chroma.vectorstore.ChromaVectorStore;
import org.springframework.ai.document.Document;
import org.springframework.ai.reader.ExtractedTextFormatter;
import org.springframework.ai.reader.pdf.PagePdfDocumentReader;
import org.springframework.ai.reader.pdf.config.PdfDocumentReaderConfig;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
public class DataLoaderService {

    @Autowired
    private ChromaVectorStore vectorStore;

    // â­ åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œ
    @PostConstruct
    public void init() {
        // â­ Step 1: é…ç½®PDFè¯»å–å™¨
        PagePdfDocumentReader pdfReader = new PagePdfDocumentReader(
            "classpath:GBT_38899-2020.pdf",  // PDFæ–‡ä»¶è·¯å¾„
            PdfDocumentReaderConfig.builder()
                .withPageTopMargin(0)  // é¡µé¢é¡¶éƒ¨è¾¹è·
                .withPageExtractedTextFormatter(
                    ExtractedTextFormatter.builder()
                        .withNumberOfTopTextLinesToDelete(0)  // ä¸åˆ é™¤é¡¶éƒ¨è¡Œ
                        .build()
                )
                .withPagesPerDocument(1)  // æ¯é¡µä½œä¸ºä¸€ä¸ªæ–‡æ¡£
                .build()
        );
        
        // â­ Step 2: è¯»å–PDFå†…å®¹ä¸ºDocumentåˆ—è¡¨
        List<Document> documents = pdfReader.read();
        System.out.println("Documents size: " + documents.size());
        
        // è°ƒè¯•ï¼šæ‰“å°æ¯ä¸ªæ–‡æ¡£çš„å†…å®¹
        for (Document doc : documents) {
            System.out.println("Content: [" + doc.getText() + "]");
        }
        
        // â­ Step 3: å°†æ–‡æ¡£å­˜å…¥Chromaå‘é‡æ•°æ®åº“
        vectorStore.add(documents);
        System.out.println("PDFå·²åŠ è½½å¹¶å­˜å‚¨åˆ°Chromaå‘é‡æ•°æ®åº“ä¸­");
    }
}
```

**ä»£ç æ ¸å¿ƒè§£æ**ï¼š

1. **@PostConstructæ³¨è§£**ï¼š
   ```java
   @PostConstruct
   public void init() { ... }
   ```
   Spring Bootå¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œï¼ŒåŠ è½½PDFæ–‡æ¡£ã€‚

2. **PagePdfDocumentReaderé…ç½®**ï¼š
   ```java
   .withPagesPerDocument(1)  // æ¯é¡µä½œä¸ºä¸€ä¸ªæ–‡æ¡£
   ```
   å°†PDFçš„æ¯ä¸€é¡µåˆ‡åˆ†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„Documentï¼Œä¾¿äºç²¾ç¡®æ£€ç´¢ã€‚

3. **æ–‡æ¡£å‘é‡åŒ–å­˜å‚¨**ï¼š
   ```java
   vectorStore.add(documents);
   ```
   Spring AIè‡ªåŠ¨å®Œæˆï¼š
   - æå–æ¯ä¸ªDocumentçš„æ–‡æœ¬
   - è°ƒç”¨EmbeddingModelç”Ÿæˆå‘é‡
   - å­˜å‚¨åˆ°Chromaå‘é‡æ•°æ®åº“

**å·¥ä½œæµç¨‹**ï¼š

```
PDFæ–‡ä»¶ï¼ˆGBT_38899-2020.pdfï¼‰
    â†“
ã€è§£æã€‘PagePdfDocumentReaderè¯»å–æ¯ä¸€é¡µ
    â†“
ã€åˆ†ç‰‡ã€‘æ¯é¡µç”Ÿæˆä¸€ä¸ªDocument
    â†“
ã€å‘é‡åŒ–ã€‘EmbeddingModelç”Ÿæˆå‘é‡
    â†“
ã€å­˜å‚¨ã€‘ä¿å­˜åˆ°Chroma Collection
    â†“
å®Œæˆï¼æ•°æ®æŒä¹…åŒ–åœ¨Chromaä¸­
```

### 5.2 Documentç»“æ„

æ¯ä¸ªPDFé¡µé¢ä¼šç”Ÿæˆè¿™æ ·çš„Documentï¼š

```java
Document {
    id: "uuid-001",
    content: "æœ¬æ ‡å‡†è§„å®šäº†...",  // é¡µé¢æ–‡æœ¬å†…å®¹
    embedding: [0.2, -0.5, ...],  // 896ç»´å‘é‡
    metadata: {
        "page_number": 1,
        "source": "GBT_38899-2020.pdf",
        "file_size": "2.5MB"
    }
}
```

---

## 6. æ··åˆæ£€ç´¢ç­–ç•¥

### 6.1 åŸºç¡€å‘é‡æ£€ç´¢

æœ€ç®€å•çš„æ£€ç´¢æ–¹å¼ï¼š

```java
// æ¥è‡ªï¼šhttps://github.com/Mark7766/spring-ai-apps/blob/main/chroma-ollama/src/main/java/com/sandy/chroma/ollama/QaController.javaï¼ˆç¬¬1éƒ¨åˆ†ï¼‰
package com.sandy.chroma.ollama;

import org.springframework.ai.chat.model.ChatModel;
import org.springframework.ai.chat.model.ChatResponse;
import org.springframework.ai.chat.prompt.Prompt;
import org.springframework.ai.chroma.vectorstore.ChromaVectorStore;
import org.springframework.ai.vectorstore.SearchRequest;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

@RestController
public class QaController {

    @Autowired
    private ChatModel chatModel;

    @Autowired
    private ChromaVectorStore vectorStore;

    @GetMapping("/qa")
    public String answerQuestion(@RequestParam String question) {
        System.out.println("q:" + question);
        
        // â­ Step 1: æ„å»ºæœç´¢è¯·æ±‚ï¼ˆTop-5ï¼‰
        SearchRequest searchRequest = SearchRequest.builder()
            .query(question)
            .topK(5)  // è¿”å›æœ€ç›¸ä¼¼çš„5ä¸ªæ–‡æ¡£
            .build();
        
        // â­ Step 2: ç›¸ä¼¼åº¦æœç´¢
        var documents = vectorStore.similaritySearch(searchRequest);
        
        // â­ Step 3: æ„å»ºPromptï¼ˆæ‹¼æ¥æ–‡æ¡£å†…å®¹ï¼‰
        StringBuilder prompt = new StringBuilder();
        prompt.append("åŸºäºä»¥ä¸‹å†…å®¹å›ç­”é—®é¢˜ï¼š\n");
        documents.forEach(doc -> 
            prompt.append(doc.getText()).append("\n")
        );
        prompt.append("é—®é¢˜ï¼š").append(question);
        
        System.out.println("prompt:" + prompt.toString());
        
        // â­ Step 4: è°ƒç”¨ChatModelç”Ÿæˆç­”æ¡ˆ
        ChatResponse chatResponse = chatModel.call(
            new Prompt(prompt.toString())
        );
        
        return chatResponse.getResult().getOutput().getText();
    }
}
```

**æ£€ç´¢æµç¨‹**ï¼š

```
ç”¨æˆ·é—®é¢˜ï¼š"ä»€ä¹ˆæ˜¯ä¿¡æ¯å®‰å…¨ï¼Ÿ"
    â†“
ã€å‘é‡åŒ–ã€‘question â†’ embedding
    â†“
ã€ç›¸ä¼¼åº¦æœç´¢ã€‘åœ¨Chromaä¸­æ‰¾Top-5ç›¸ä¼¼æ–‡æ¡£
    â†“
ã€æ‹¼æ¥ä¸Šä¸‹æ–‡ã€‘å°†5ä¸ªæ–‡æ¡£å†…å®¹ç»„åˆæˆPrompt
    â†“
ã€ç”Ÿæˆç­”æ¡ˆã€‘ChatModelåŸºäºä¸Šä¸‹æ–‡å›ç­”
    â†“
è¿”å›ç­”æ¡ˆ
```

### 6.2 ä½¿ç”¨QuestionAnswerAdvisorï¼ˆæ¨èï¼‰

Spring AIæä¾›äº†æ›´ä¼˜é›…çš„æ–¹å¼ï¼š

```java
// ç»§ç»­ï¼šhttps://github.com/Mark7766/spring-ai-apps/blob/main/chroma-ollama/src/main/java/com/sandy/chroma/ollama/QaController.javaï¼ˆç¬¬2éƒ¨åˆ†ï¼‰

    @GetMapping("/ask")
    public String ask(@RequestParam String question) {
        System.out.println("ask:" + question);

        // â­ ä½¿ç”¨QuestionAnswerAdvisorè‡ªåŠ¨å¤„ç†RAGæµç¨‹
        ChatResponse response = ChatClient.builder(chatModel)
            .build()
            .prompt()
            .advisors(new QuestionAnswerAdvisor(this.vectorStore))  // â­ RAG Advisor
            .user(question + ",ç”¨ä¸­æ–‡å›ç­”")
            .call()
            .chatResponse();
        
        System.out.println("rsp:" + JsonParser.toJson(response));
        
        assert response != null;
        return response.getResult().getOutput().getText();
    }
}
```

**QuestionAnswerAdvisorçš„ä¼˜åŠ¿**ï¼š

```
è‡ªåŠ¨å¤„ç†RAGæµç¨‹ï¼š
1. âœ… è‡ªåŠ¨å‘é‡åŒ–ç”¨æˆ·é—®é¢˜
2. âœ… è‡ªåŠ¨æ£€ç´¢ç›¸å…³æ–‡æ¡£
3. âœ… è‡ªåŠ¨æ„å»ºä¼˜åŒ–çš„Prompt
4. âœ… è‡ªåŠ¨è°ƒç”¨ChatModel
5. âœ… æ”¯æŒæµå¼è¾“å‡º

vs æ‰‹åŠ¨å®ç°ï¼š
âŒ éœ€è¦æ‰‹åŠ¨æ„å»ºSearchRequest
âŒ éœ€è¦æ‰‹åŠ¨æ‹¼æ¥Prompt
âŒ Promptæ¨¡æ¿ä¸å¤Ÿä¼˜åŒ–
```

**å¯¹æ¯”ä¸¤ç§æ–¹å¼**ï¼š

| ç‰¹æ€§ | /qa (æ‰‹åŠ¨) | /ask (Advisor) |
|------|-----------|---------------|
| **ä»£ç é‡** | å¤šï¼ˆéœ€è¦æ‰‹åŠ¨æ‹¼æ¥ï¼‰| å°‘ï¼ˆè‡ªåŠ¨å¤„ç†ï¼‰|
| **Promptè´¨é‡** | ä¸€èˆ¬ | ä¼˜åŒ–è¿‡çš„æ¨¡æ¿ |
| **çµæ´»æ€§** | é«˜ï¼ˆå®Œå…¨æ§åˆ¶ï¼‰| ä¸­ï¼ˆå¯é…ç½®ï¼‰|
| **ç»´æŠ¤æ€§** | ä½ | é«˜ |
| **æ¨èåœºæ™¯** | éœ€è¦è‡ªå®šä¹‰ | é€šç”¨RAG |

### 6.3 é«˜çº§æ£€ç´¢é…ç½®

**è‡ªå®šä¹‰Top-Kå’Œç›¸ä¼¼åº¦é˜ˆå€¼**ï¼š

```java
SearchRequest searchRequest = SearchRequest.builder()
    .query(question)
    .topK(10)                      // è¿”å›10ä¸ªç»“æœ
    .similarityThreshold(0.7)      // ç›¸ä¼¼åº¦>0.7æ‰è¿”å›
    .build();
```

**å…ƒæ•°æ®è¿‡æ»¤**ï¼š

```java
SearchRequest searchRequest = SearchRequest.builder()
    .query(question)
    .topK(5)
    .filterExpression(
        "metadata.category == 'åŒ»ç–—' && metadata.date > '2024-01-01'"
    )
    .build();
```

**æƒé‡è°ƒæ•´**ï¼š

```java
SearchRequest searchRequest = SearchRequest.builder()
    .query(question)
    .topK(5)
    .similarityThresholdAll()  // è¿”å›æ‰€æœ‰ç»“æœï¼ˆä¸è¿‡æ»¤ï¼‰
    .build();

// æ‰‹åŠ¨æŒ‰æƒé‡æ’åº
List<Document> documents = vectorStore.similaritySearch(searchRequest);
documents.sort((a, b) -> {
    double scoreA = a.getScore() * getDocumentWeight(a);
    double scoreB = b.getScore() * getDocumentWeight(b);
    return Double.compare(scoreB, scoreA);
});
```

---

## 7. æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ

### 7.1 æ–‡æ¡£åˆ‡åˆ†ç­–ç•¥

**é—®é¢˜**ï¼šæ•´ä¸ªPDFä½œä¸ºä¸€ä¸ªDocumentï¼Ÿ

```
âŒ å‘é‡è¡¨è¾¾ä¸ç²¾ç¡®
âŒ æ£€ç´¢ç»“æœåŒ…å«æ— å…³å†…å®¹
âŒ Tokenæ¶ˆè€—å¤§
```

**æœ€ä½³å®è·µ**ï¼šåˆç†åˆ‡åˆ†

```java
// ç­–ç•¥1ï¼šæŒ‰é¡µåˆ‡åˆ†ï¼ˆå½“å‰å®ç°ï¼‰
.withPagesPerDocument(1)  // æ¯é¡µä¸€ä¸ªDocument

// ç­–ç•¥2ï¼šæŒ‰æ®µè½åˆ‡åˆ†
TextSplitter splitter = new TokenTextSplitter();
List<Document> chunks = splitter.split(documents);

// ç­–ç•¥3ï¼šæŒ‰è¯­ä¹‰åˆ‡åˆ†ï¼ˆé«˜çº§ï¼‰
SemanticTextSplitter splitter = new SemanticTextSplitter(embeddingModel);
List<Document> chunks = splitter.split(documents);
```

**æ¨èåˆ‡åˆ†å¤§å°**ï¼š

| åœºæ™¯ | åˆ‡åˆ†å¤§å° | åŸå›  |
|------|---------|------|
| **æŠ€æœ¯æ–‡æ¡£** | 200-500å­— | ä¿æŒè¯­ä¹‰å®Œæ•´ |
| **æ–°é—»æ–‡ç« ** | 300-800å­— | æ¯æ®µç›¸å¯¹ç‹¬ç«‹ |
| **å­¦æœ¯è®ºæ–‡** | 500-1000å­— | ä¿ç•™ä¸Šä¸‹æ–‡ |
| **å¯¹è¯è®°å½•** | æŒ‰è½®æ¬¡ | ä¿æŒå¯¹è¯å®Œæ•´æ€§ |

### 7.2 å‘é‡ç´¢å¼•ä¼˜åŒ–

**Chromaé»˜è®¤ä½¿ç”¨HNSWç´¢å¼•**ï¼š

```python
# å¯åœ¨Chromaé…ç½®ä¸­è°ƒæ•´ï¼ˆPythonå®¢æˆ·ç«¯ï¼‰
collection = client.create_collection(
    name="TestCollection",
    metadata={
        "hnsw:space": "cosine",      # ç›¸ä¼¼åº¦ç®—æ³•
        "hnsw:construction_ef": 100, # æ„å»ºç²¾åº¦
        "hnsw:search_ef": 100        # æœç´¢ç²¾åº¦
    }
)
```

**Javaç«¯é…ç½®**ï¼ˆæœ‰é™ï¼‰ï¼š

```java
// Spring AIæš‚ä¸æ”¯æŒç›´æ¥é…ç½®HNSWå‚æ•°
// å¯é€šè¿‡è°ƒæ•´Top-Kå’Œé˜ˆå€¼é—´æ¥ä¼˜åŒ–
```

### 7.3 æ‰¹é‡å¯¼å…¥ä¼˜åŒ–

**é—®é¢˜**ï¼šé€ä¸ªæ·»åŠ Documentæ•ˆç‡ä½

```java
// âŒ æ…¢ï¼šæ¯æ¬¡ä¸€ä¸ªDocument
for (Document doc : documents) {
    vectorStore.add(List.of(doc));  // Næ¬¡ç½‘ç»œè¯·æ±‚
}
```

**ä¼˜åŒ–**ï¼šæ‰¹é‡æ·»åŠ 

```java
// âœ… å¿«ï¼šä¸€æ¬¡æ·»åŠ æ‰€æœ‰Document
vectorStore.add(documents);  // 1æ¬¡ç½‘ç»œè¯·æ±‚
```

**å¤§é‡æ–‡æ¡£åˆ†æ‰¹**ï¼š

```java
int batchSize = 100;
for (int i = 0; i < documents.size(); i += batchSize) {
    int end = Math.min(i + batchSize, documents.size());
    List<Document> batch = documents.subList(i, end);
    vectorStore.add(batch);
    System.out.println("Processed: " + end + "/" + documents.size());
}
```

### 7.4 ç¼“å­˜ç­–ç•¥

**é—®é¢˜**ï¼šç›¸åŒé—®é¢˜é‡å¤æ£€ç´¢

```java
// âŒ æ¯æ¬¡éƒ½è°ƒç”¨å‘é‡æ•°æ®åº“
var documents = vectorStore.similaritySearch(searchRequest);
```

**ä¼˜åŒ–**ï¼šæ·»åŠ ç¼“å­˜

```java
@Service
public class CachedVectorSearchService {
    
    @Autowired
    private ChromaVectorStore vectorStore;
    
    @Cacheable(value = "vectorSearch", key = "#question")
    public List<Document> search(String question) {
        SearchRequest request = SearchRequest.builder()
            .query(question)
            .topK(5)
            .build();
        return vectorStore.similaritySearch(request);
    }
}
```

**ç¼“å­˜é…ç½®**ï¼š

```yaml
spring:
  cache:
    type: caffeine
    caffeine:
      spec: maximumSize=1000,expireAfterWrite=1h
```

### 7.5 ç›‘æ§ä¸æ—¥å¿—

**å…³é”®æŒ‡æ ‡**ï¼š

```java
@Service
public class VectorStoreMetrics {
    
    private final MeterRegistry registry;
    
    public void recordSearch(String question, int resultCount, long duration) {
        // æœç´¢æ¬¡æ•°
        registry.counter("vector.search.count").increment();
        
        // ç»“æœæ•°é‡
        registry.gauge("vector.search.results", resultCount);
        
        // æœç´¢è€—æ—¶
        registry.timer("vector.search.duration")
            .record(duration, TimeUnit.MILLISECONDS);
    }
}
```

**æ—¥å¿—æœ€ä½³å®è·µ**ï¼š

```java
@GetMapping("/qa")
public String answerQuestion(@RequestParam String question) {
    long startTime = System.currentTimeMillis();
    
    log.info("Question received: {}", question);
    
    var documents = vectorStore.similaritySearch(searchRequest);
    
    log.info("Retrieved {} documents in {}ms", 
        documents.size(), 
        System.currentTimeMillis() - startTime
    );
    
    // è®°å½•æ£€ç´¢åˆ°çš„æ–‡æ¡£ç‰‡æ®µï¼ˆè°ƒè¯•ç”¨ï¼‰
    documents.forEach(doc -> 
        log.debug("Document: score={}, text={}", 
            doc.getScore(), 
            doc.getText().substring(0, Math.min(100, doc.getText().length()))
        )
    );
    
    return generateAnswer(documents, question);
}
```

---

## ğŸ’» ç¤ºä¾‹ä»£ç 

å®Œæ•´é¡¹ç›®ä»£ç ï¼š[https://github.com/Mark7766/spring-ai-apps/tree/main/chroma-ollama](https://github.com/Mark7766/spring-ai-apps/tree/main/chroma-ollama)

**é¡¹ç›®ç»“æ„**ï¼š
```
chroma-ollama/
â”œâ”€â”€ src/main/java/com/sandy/chroma/ollama/
â”‚   â”œâ”€â”€ ChromaOllamaApplication.java    # å¯åŠ¨ç±»
â”‚   â”œâ”€â”€ ChromaCfg.java                   # Chromaé…ç½®
â”‚   â”œâ”€â”€ DataLoaderService.java           # PDFåŠ è½½æœåŠ¡
â”‚   â””â”€â”€ QaController.java                # é—®ç­”API
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yml                  # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ GBT_38899-2020.pdf              # ç¤ºä¾‹PDFæ–‡æ¡£
â””â”€â”€ pom.xml                              # Mavené…ç½®
```

**æ ¸å¿ƒæ–‡ä»¶**ï¼š
- **ChromaCfg.java**ï¼šChromaè¿æ¥å’ŒVectorStoreé…ç½®
- **DataLoaderService.java**ï¼šPDFæ–‡æ¡£è‡ªåŠ¨åŠ è½½å’Œå‘é‡åŒ–
- **QaController.java**ï¼šä¸¤ç§RAGé—®ç­”å®ç°ï¼ˆæ‰‹åŠ¨ + Advisorï¼‰

---

## ğŸ¤” æ€è€ƒé¢˜

1. **å¦‚ä½•è®¾è®¡ç´¢å¼•ç­–ç•¥æ¥å¹³è¡¡æ£€ç´¢é€Ÿåº¦å’Œå‡†ç¡®æ€§ï¼Ÿ**
   
   æç¤ºï¼šè€ƒè™‘Top-Kå¤§å°ã€ç›¸ä¼¼åº¦é˜ˆå€¼ã€æ–‡æ¡£åˆ‡åˆ†ç²’åº¦ç­‰å› ç´ ã€‚

2. **æ··åˆæ£€ç´¢ï¼ˆå‘é‡+å…³é”®è¯ï¼‰å¦‚ä½•å®ç°æœ€ä¼˜æƒé‡åˆ†é…ï¼Ÿ**
   
   æç¤ºï¼šå¯ä»¥ç”¨70%å‘é‡ç›¸ä¼¼åº¦ + 30%å…³é”®è¯åŒ¹é…ï¼Œå…·ä½“æ¯”ä¾‹éœ€è¦æ ¹æ®ä¸šåŠ¡è°ƒä¼˜ã€‚

3. **å¦‚ä½•å¤„ç†å‘é‡æ•°æ®åº“çš„å¤‡ä»½å’Œè¿ç§»ï¼Ÿ**
   
   æç¤ºï¼šChromaæ”¯æŒå¯¼å‡ºCollectionï¼Œå¯å®šæœŸå¤‡ä»½ï¼›è¿ç§»æ—¶éœ€æ³¨æ„æ¨¡å‹ä¸€è‡´æ€§ã€‚

---

## ğŸ“– æ‹“å±•é˜…è¯»

- [Chromaå®˜æ–¹æ–‡æ¡£](https://docs.trychroma.com/)
- [Spring AI VectorStoreæ–‡æ¡£](https://docs.spring.io/spring-ai/reference/api/vectordbs.html)
- [å‘é‡æ•°æ®åº“æŠ€æœ¯ç»¼è¿°](https://arxiv.org/abs/2309.11322)
- [HNSWç®—æ³•è¯¦è§£](https://arxiv.org/abs/1603.09320)

---

## â­ï¸ ä¸‹æœŸé¢„å‘Š

æ­å–œä½ æŒæ¡äº†å‘é‡æ•°æ®åº“é›†æˆï¼ğŸ‰ ç°åœ¨ä½ å·²ç»èƒ½å¤Ÿï¼š
- âœ… å°†æ–‡æ¡£æŒä¹…åŒ–å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“
- âœ… å®ç°é«˜æ•ˆçš„å‘é‡æ£€ç´¢
- âœ… æ„å»ºå®Œæ•´çš„PDFé—®ç­”ç³»ç»Ÿ

**ä¸‹ä¸€æœŸæˆ‘ä»¬å°†å­¦ä¹ RAGæŠ€æœ¯æ·±åº¦å®è·µ**ï¼Œè®©AIæ›´å‡†ç¡®åœ°åŸºäºä½ çš„ç§æœ‰æ•°æ®å›ç­”é—®é¢˜ï¼

**ä¸‹æœŸäº®ç‚¹**ï¼š
- ğŸ¯ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯åŸç†
- ğŸ“ Spring AIçš„ETL Pipelineè¯¦è§£
- ğŸ“„ å¤šæ ¼å¼æ–‡æ¡£å¤„ç†ï¼ˆPDFã€Wordã€Markdownï¼‰
- ğŸ”§ Promptå·¥ç¨‹ä¼˜åŒ–æŠ€å·§
- ğŸ“Š ç­”æ¡ˆè´¨é‡è¯„ä¼°ä¸ä¼˜åŒ–

æ•¬è¯·æœŸå¾…ï¼

---

**æ›´æ–°æ—¥æœŸ**ï¼š2025å¹´12æœˆ2æ—¥  
**çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ

